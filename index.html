<!DOCTYPE html>

<html lang="en">
    <head>
        <title>Rock paper scissors</title>
        <meta charset="utf-8">
    </head>

    <body>
        <script>

            let playerPoints = 0;
            let computerPoints = 0;
            let ties = 0;
            let roundsTotal;

            function computerPlay () {
                
            let randomOutput, randomOutputNum  
                //generate random number from 1-3
                    //generate random number from 0-1, times it by 3 add 1 and round down. This makes sure if the first return is 0 we get 1. 
                
                    randomOutputNum = Math.floor((Math.random() * 3)+1);
                    console.log(randomOutputNum);

                //assign our random number of 1,2 or 3 to rock, paper, or scissors
                switch (randomOutputNum) {
                    case (1):
                    randomOutput = "rock";
                    break;
                    case (2):
                    randomOutput = "paper";
                    break;
                    case (3):
                    randomOutput = "scissors";
                    break;
                    default: 
                    randomOutput= "rock";
                    
                }
                console.log(randomOutput);
                return randomOutput;
 
            }

            function playRound(playerSelection, computerSelection) {

            //make player input case insensitive
            playerSelection = playerSelection.toLowerCase();
            console.log(playerSelection);

            //if player selection is rock
            if (playerSelection=="rock") {
                   if (computerSelection=="rock") {
                       ties++;
                        return ("Oh no! Rock and rock! A tie!");
                    }
                    else if (computerSelection=="paper") {
                        computerPoints++;
                        return ("You lose! Paper beats rock.");
                    }
                    else if (computerSelection=="scissors") {
                        playerPoints++;
                        return ("Yon win! Scisssors beat rock.");
                    }
            }
            else if (playerSelection=="paper") {
                   if (computerSelection=="rock") {
                       playerPoints++;
                        return ("You win! Paper beats rock");
                    }
                    else if (computerSelection=="paper") {
                        ties++;
                        return ("A tie! Paper and paper!");
                    }
                    else if (computerSelection=="scissors") {
                        computerPoints++;
                        return ("Yon lose! Scisssors beat paper.");
                    }
            } 
            else if (playerSelection=="scissors") {
                   if (computerSelection=="rock") {
                        computerPoints++;
                        return ("You lose! Rock beats scissors");
                    }
                    else if (computerSelection=="paper") {
                        playerPoints++;
                        return ("You win! Scissors beat paper");
                    }
                    else if (computerSelection=="scissors") {
                        ties++;
                        return ("A tie! Scissors against scissors!");
                    }
            } 
            
            }
            
            

          /*   console.log(playerSelection + computerSelection);
            console.log(playRound(playerSelection, computerSelection));
            console.log(playerPoints, computerPoints); */
                   
        function game (roundsTotal) {
            
            for (let i= 0; i<roundsTotal; i++) {
                let computerSelection = computerPlay();
                let playerSelection = window.prompt("Please enter rock, paper or scissors");
                if(playerSelection) {
                playerSelection = playerSelection.toLowerCase();
                if (playerSelection == "rock" | playerSelection == "paper" | playerSelection =="scissors") {
                    playRound(playerSelection, computerSelection);
                }
                else {
                    window.alert("That's not a valid response.");
                    //don't want this to take up one turn
                    i--; 
                }
                }
                else {
                    window.alert("Qutting round.");
                          i=roundsTotal;
                }

            }
            console.log("Player: "+ playerPoints, "Computer: " +computerPoints, "Ties: " + ties);
            
            //clear scores
            playerPoints=0;
            computerPoints=0;

        }   


        </script>
    </body>
</html>